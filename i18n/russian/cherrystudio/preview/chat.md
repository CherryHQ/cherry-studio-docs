---
icon: message
---
# Интерфейс диалога


{% hint style="warning" %}
Этот документ переведен с китайского языка с помощью ИИ и еще не был проверен.
{% endhint %}




## Ассистенты и темы

### Ассистенты

`Ассистент` — это персонализированные настройки выбранной модели, такие как предустановки промптов и параметров, позволяющие адаптировать модель под ваши задачи.

`Системный ассистент по умолчанию` содержит универсальные параметры (без промпта). Вы можете использовать его напрямую или найти нужные предустановки на странице [Агентов](agents.md).

### Темы

`Ассистент` является родительским элементом для `тем`. Под одним ассистентом можно создавать несколько тем (диалогов). Все `темы` используют общие настройки модели ассистента: параметры и промпты.

<figure><img src="../../.gitbook/assets/image (4) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## Кнопки диалогового окна

<figure><img src="../../.gitbook/assets/对话界面/对话框.png" alt=""><figcaption></figcaption></figure>

![](../../.gitbook/assets/对话界面/新话题.png) `Новая тема` — создает новую тему в текущем ассистенте.

![](../../.gitbook/assets/对话界面/上传图片或文档.png) `Загрузить изображение/документ` — загрузка изображений требует поддержки модели. Документы автоматически преобразуются в текст для контекста.

![](../../.gitbook/assets/对话界面/网络搜索.png) `Веб-поиск` — требует настройки в параметрах. Результаты передаются модели как контекст (подробнее в [Интернет-режиме](../../websearch/)).

![](../../.gitbook/assets/对话界面/知识库.png) `База знаний` — активирует базу знаний (см. [руководство](../../knowledge-base/knowledge-base.md)).

![](<../../.gitbook/assets/对话界面/MCP 服务器.png>) `MCP-сервер` — активирует MCP (см. [руководство](../../advanced-basic/mcp/)).

![](../../.gitbook/assets/对话界面/生成图片.png) `Создать изображение` — скрыто по умолчанию. Для моделей с поддержкой (например, Gemini) требуется ручная активация.

{% hint style="info" %}
По техническим причинам кнопку необходимо активировать вручную. Она будет удалена после оптимизации функционала.
{% endhint %}

![](../../.gitbook/assets/对话界面/选择模型.png) `Выбрать модель` — переключает модель для следующих сообщений с сохранением контекста.

![](../../.gitbook/assets/对话界面/快捷短语.png) `Быстрые фразы` — используйте предустановленные фразы из настроек с поддержкой переменных.

![](../../.gitbook/assets/对话界面/清空消息.png) `Очистить сообщения` — удаляет всё содержимое темы.

![](../../.gitbook/assets/对话界面/展开.png) `Развернуть` — увеличивает область ввода для длинных текстов.

![](../../.gitbook/assets/对话界面/清除上下文.png) `Сбросить контекст` — обнуляет контекст модели без удаления истории.

![](<../../.gitbook/assets/对话界面/预估 Token 数.png>) `Оценка токенов` — отображает: `текущие токены контекста`, `макс. токены контекста` (∞ — неограничено), `символы в поле ввода`, `оценка токенов`.

{% hint style="info" %}
Оценка токенов основана на эвристике. Фактические значения зависят от модели.
{% endhint %}

![](../../.gitbook/assets/对话界面/翻译.png) `Перевести` — переводит текст в поле ввода на английский.

## Настройки диалога

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Настройки модели

Синхронизируются с параметрами `Настройки модели` ассистента (см. раздел [Редактирование ассистента](chat.md#编辑助手)).

{% hint style="info" %}
В разделе настроек диалога действуют **только** настройки модели ассистента. Остальные параметры — глобальные (например, стиль сообщений).
{% endhint %}

### Настройки сообщений

#### <mark style="color:blue;">**`Разделитель сообщений`**</mark>:

Добавляет линию между текстом сообщения и панелью действий.

{% tabs %}
{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Шрифт с засечками`**</mark>:

Переключает тип шрифта. Альтернативно используйте [кастомный CSS](../../personalization-settings/).

#### <mark style="color:blue;">**`Нумерация строк в коде`**</mark>:

Отображает номера строк в выводах кода.

{% tabs %}
{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Сворачиваемые блоки кода`**</mark>:

Автоматически сворачивает длинные фрагменты кода.

#### <mark style="color:blue;">**`Перенос строк в коде`**</mark>:

Включает автоматический перенос длинных строк кода.

#### <mark style="color:blue;">**`Автосворачивание цепочки рассуждений`**</mark>:

Для поддерживающих моделей сворачивает процесс рассуждения после завершения.

#### <mark style="color:blue;">**`Стиль сообщений`**</mark>:

Переключает между стилями: пузырьки (bubbles) или список (list).

#### <mark style="color:blue;">**`Стиль кода`**</mark>:

Изменяет оформление фрагментов кода.

#### <mark style="color:blue;">**`Движок математических формул`**</mark>:

* KaTeX: быстрее, оптимизирован для производительности
* MathJax: медленнее, но поддерживает больше символов и команд

#### <mark style="color:blue;">**`Размер шрифта сообщений`**</mark>:

Регулирует размер текста в диалогах.

### Настройки ввода

#### <mark style="color:blue;">**`Отображать оценку токенов`**</mark>:

Показывает предполагаемое количество токенов в поле ввода (не влияет на контекст).

#### <mark style="color:blue;">**`Вставка длинных текстов как файлов`**</mark>:

Автоматически форматирует длинные вставки в виде вложений.

#### <mark style="color:blue;">**`Рендеринг Markdown в сообщениях`**</mark>:

При выключении форматируется только ответ модели.

{% tabs %}
{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (7) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Перевод по тройному пробелу`**</mark>:

Тройное нажатие пробела переводит текст в поле ввода на английский.

{% hint style="warning" %}
Внимание: перезаписывает исходный текст.
{% endhint %}

#### <mark style="color:blue;">**`Целевой язык`**</mark>:

Язык для кнопки перевода и тройного пробела.

## Настройки ассистента

Наведите курсор на <mark style="background-color:yellow;">имя ассистента</mark> → выберите настройки в <mark style="background-color:yellow;">контекстном меню</mark>

### Редактирование ассистента

{% hint style="info" %}
Настройки применяются ко всем темам ассистента.
{% endhint %}

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### Настройки промптов

#### <mark style="color:blue;">**`Имя`**</mark>:

Кастомное имя для идентификации.

#### <mark style="color:blue;">**`Промпт`**</mark>:

Промпт ассистента. Используйте синтаксис как на странице Агентов.

#### Настройки модели

#### <mark style="color:blue;">**`Модель по умолчанию`**</mark>:

Фиксирует модель для ассистента. Если не задано, используется [глобальная модель](settings/default-models.md#默认助手模型).

{% hint style="info" %}
Приоритет: модель ассистента > глобальная модель.
{% endhint %}

#### <mark style="color:blue;">**`Автосброс модели`**</mark>:

Если включено, при создании темы после смены модели восстанавливается модель ассистента.

> Пример (модель ассистента: gpt-3.5-turbo):
> * Включено: новая тема → gpt-3.5-turbo  
> * Выключено: новая тема → текущая модель (например, gpt-4o)

#### <mark style="color:blue;">**`Температура (Temperature)`**</mark>:

Контролирует случайность вывода (по умолчанию 0.7):
* Низкая (0-0.3): точные ответы (код, данные)
* Средняя (0.4-0.7): баланс для диалогов
* Высокая (0.8-1.0): креативность (но ниже связность)

#### <mark style="color:blue;">**`Top P (Ядерная выборка)`**</mark>:

По умолчанию 1:
* Меньшие значения (0.1-0.3): консервативный выбор слов
* Средние (0.4-0.6): баланс
* Большие (0.7-1.0): разнообразие

{% hint style="info" %}
- Параметры используют независимо/вместе   
- Тестируйте для разных задач  
- Диапазоны могут отличаться для моделей
{% endhint %}

#### <mark style="color:blue;">**`Размер контекста (Context Window)`**</mark>

Кол-во хранимых сообщений:
* 5-10: обычные диалоги  
* \>10: сложные задачи (потребляет больше токенов)

#### <mark style="color:blue;">**`Ограничение длины ответа (MaxToken)`**</mark>

Макс. токенов на ответ. Большинство моделей поддерживают до 32k токенов.

> Пример: проверка подключения модели → MaxToken=1

Рекомендации:
{% hint style="success" %}
* Диалоги: 500-800  
* Короткие тексты: 800-2000  
* Генерация кода: 2000-3600  
* Длинные тексты: 4000+ (требует поддержки модели)
{% endhint %}

{% hint style="warning" %}
При превышении MaxToken вывод может обрываться.
{% endhint %}

#### <mark style="color:blue;">**`Потоковая передача (Stream)`**</mark>

При включении вывод генерируется постепенно ("эффект печатной машинки"). При выключении — ответ приходит целиком.

{% hint style="info" %}
Отключайте для моделей без потоковой поддержки (например, o1-mini).
{% endhint %}

#### <mark style="color:blue;">**`Кастомные параметры`**</mark>

Добавление параметров в запрос (например, `presence_penalty`). Документация: [здесь](https://openai.apifox.cn/doc-3222739)

{% hint style="info" %}
- Кастомные параметры переопределяют системные  
- Используйте <kbd>параметр:undefined</kbd> для исключения параметра  
- Уникальные параметры зависят от провайдера
{% endhint %}