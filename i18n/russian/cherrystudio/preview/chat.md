---
icon: message
---

{% hint style="warning" %}
Этот документ переведен с китайского языка с помощью ИИ и еще не был проверен.
{% endhint %}

# Интерфейс диалога

## Ассистенты и Темы

### Ассистент

`Ассистент` – это персонализированные настройки выбранной модели, такие как предустановки промптов и параметров, которые делают работу модели более соответствующей вашим ожиданиям.

`Системный ассистент по умолчанию` имеет стандартные параметры (без промпта). Вы можете использовать его напрямую или найти нужные предустановки на [странице агентов](agents.md).

### Тема

`Ассистент` – это родительский элемент для `темы`. В рамках одного ассистента можно создать несколько тем (диалогов), при этом все `темы` используют одинаковые настройки модели ассистента, включая параметры и промпты.

<figure><img src="../../.gitbook/assets/image (4) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## Кнопки в диалоговом окне

<figure><img src="../../.gitbook/assets/对话界面/对话框.png" alt=""><figcaption></figcaption></figure>

![](../../.gitbook/assets/对话界面/新话题.png) `Новая тема` – создать новую тему в текущем ассистенте.

![](../../.gitbook/assets/对话界面/上传图片或文档.png) `Загрузить изображение или документ` – для изображений требуется поддержка модели; документы автоматически преобразуются в текст и передаются модели как контекст.

![](../../.gitbook/assets/对话界面/网络搜索.png) `Веб-поиск` – требует настройки информации о поиске в настройках; результаты поиска передаются модели как контекст. Подробнее см. [Режим онлайн-поиска](../../websearch/).

![](../../.gitbook/assets/对话界面/知识库.png) `База знаний` – активирует базу знаний. Подробнее см. [Руководство по базе знаний](../../knowledge-base/knowledge-base.md).

![](<../../.gitbook/assets/对话界面/MCP 服务器.png>) `Сервер MCP` – активирует сервер MCP. Подробнее см. [Руководство по использованию MCP](../../advanced-basic/mcp/).

![](../../.gitbook/assets/对话界面/生成图片.png) `Генерация изображения` – по умолчанию скрыта. Для моделей, поддерживающих генерацию изображений (например, Gemini), необходимо активировать вручную.

{% hint style="info" %}
По техническим причинам для генерации изображений необходимо вручную активировать эту кнопку. Она будет удалена после оптимизации функции.
{% endhint %}

![](../../.gitbook/assets/对话界面/选择模型.png) `Выбор модели` – переключение на указанную модель для следующих ответов с сохранением контекста.

![](../../.gitbook/assets/对话界面/快捷短语.png) `Шаблоны фраз` – требуют предварительной настройки шаблонов фраз; поддерживают переменные.

![](../../.gitbook/assets/对话界面/清空消息.png) `Очистить сообщения` – удаляет все содержимое текущей темы.

![](../../.gitbook/assets/对话界面/展开.png) `Развернуть` – увеличивает диалоговое окно для ввода длинных текстов.

![](../../.gitbook/assets/对话界面/清除上下文.png) `Очистить контекст` – обрезает контекст, доступный модели ("забывает" предыдущий диалог), не удаляя содержимое.

![](<../../.gitbook/assets/对话界面/预估 Token 数.png>) `Расчетное количество токенов` – показывает оценку: `текущий контекст`, `максимальный контекст` (∞ означает бесконечный), `символов в текущем поле ввода`, `расчетное количество токенов`.

{% hint style="info" %}
Эта функция предназначена только для оценки количества токенов. Фактическое количество токенов варьируется в зависимости от модели. Следуйте данным провайдера модели.
{% endhint %}

![](../../.gitbook/assets/对话界面/翻译.png) `Перевод` – переводит содержимое поля ввода на английский.

## Настройки диалога

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Настройки модели

Синхронизируются с параметрами `Настройки модели` в настройках ассистента. Подробнее см. [Редактирование ассистента](chat.md#редактирование-ассистента).

{% hint style="info" %}
В настройках диалога только параметры модели применяются к текущему ассистенту; другие настройки действуют глобально. Например: стиль сообщений "пузырь" применяется ко всем темам.
{% endhint %}

### Настройки сообщений

#### <mark style="color:blue;">**`разделитель сообщений`**</mark>:

Разделяет контент сообщения и панель действий.

{% tabs %}
{% tab title="Включен" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Выключен" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Использовать шрифты с засечками`**</mark>:

Изменение стиля шрифта. Вы также можете изменить шрифт через [пользовательский CSS](../../personalization-settings/).

#### <mark style="color:blue;">**`Нумерация строк в коде`**</mark>:

Показывать номера строк в блоках кода при выводе моделью.

{% tabs %}
{% tab title="Выключен" %}
<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включен" %}
<figure><img src="../../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Сворачиваемые блоки кода`**</mark>:

Автоматически сворачивает длинные фрагменты кода.

#### <mark style="color:blue;">**`Перенос строк в блоках кода`**</mark>:

Автоматически переносит длинные строки кода при выходе за пределы окна.

#### <mark style="color:blue;">**`Автосворачивание процесса мышления`**</mark>:

Автоматически сворачивает процесс размышления моделей, которые его поддерживают.

#### <mark style="color:blue;">**`Стиль сообщений`**</mark>:

Переключение между стилями "пузырь" или "список".

#### <mark style="color:blue;">**`Стиль кода`**</mark>:

Изменение стиля отображения фрагментов кода.

#### <mark style="color:blue;">**`Движок математических формул`**</mark>:

* KaTeX – быстрее, оптимизирован для производительности;
* MathJax – медленнее, но поддерживает больше символов и команд.

#### <mark style="color:blue;">**`Размер шрифта сообщений`**</mark>:

Изменение размера шрифта в интерфейсе диалога.

### Настройки ввода

#### <mark style="color:blue;">**`Показывать расчетное количество токенов`**</mark>:

Отображает оценку токенов для вводимого текста (не для фактического контекста, ориентировочно).

#### <mark style="color:blue;">**`Вставка длинных текстов как файлов`**</mark>:

При вставке длинных текстов они автоматически отображаются как файлы, уменьшая помехи при вводе.

#### <mark style="color:blue;">**`Рендеринг Markdown в отправляемых сообщениях`**</mark>:

Если выключено, рендеринг применяется только к сообщениям модели, но не к отправляемым сообщениям.

{% tabs %}
{% tab title="Выключен" %}
<figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включен" %}
<figure><img src="../../.gitbook/assets/image (7) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Быстрый перевод троекратным нажатием пробела`**</mark>:

После ввода сообщения три нажатия пробела переводят текст на английский.

{% hint style="warning" %}
Примечание: перезаписывает исходный текст.
{% endhint %}

#### <mark style="color:blue;">**`Целевой язык`**</mark>:

Настройка языка для перевода кнопкой и тройным пробелом.

## Настройки ассистента

Выберите <mark style="background-color:yellow;">имя ассистента</mark> → в <mark style="background-color:yellow;">контекстном меню</mark> выберите нужные настройки

### Редактирование ассистента

{% hint style="info" %}
Настройки применяются ко всем темам данного ассистента.
{% endhint %}

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### Настройки промпта

#### <mark style="color:blue;">**`Имя`**</mark>:

Настраиваемое имя для удобной идентификации.

#### <mark style="color:blue;">**`Промпт`**</mark>:

Начальная подсказка (prompt). Редактируйте содержимое, используя примеры со страницы агентов.

#### Настройки модели

#### <mark style="color:blue;">**`Модель по умолчанию`**</mark>:

Закрепление модели по умолчанию для этого ассистента. Без настройки используется [глобальная модель по умолчанию](settings/default-models.md#модель-ассистента-по-умолчанию).

{% hint style="info" %}
Приоритет модели ассистента выше глобальной. Если не задана, модель ассистента = глобальная.
{% endhint %}

#### <mark style="color:blue;">**`Автосброс модели`**</mark>:

При включении: при смене модели в теме следующая новая тема использует модель по умолчанию ассистента. При выключении новая тема использует последнюю модель предыдущей темы.

> Пример: модель по умолчанию ассистента - gpt-3.5-turbo. Если в теме 1 переключиться на gpt-4o:
> * При автосбросе: тема 2 будет использовать gpt-3.5-turbo
> * Без автосброса: тема 2 будет использовать gpt-4o

#### <mark style="color:blue;">**`Температура (Temperature)`**</mark>:

Управляет случайностью генерации (значение по умолчанию: 0.7):

* Низкие значения (0-0.3):
  * Более точные ответы
  * Подходит для генерации кода, анализа данных
* Средние значения (0.4-0.7):
  * Баланс креативности и связности
  * Рекомендуется для диалогов
* Высокие значения (0.8-1.0):
  * Креативные и разнообразные ответы
  * Подходит для мозговых штурмов

#### <mark style="color:blue;">**`Top P (ядерная выборка)`**</mark>:

Значение по умолчанию: 1. Меньшие значения делают ответы предсказуемыми, большие – разнообразными.

Управление выборкой по вероятности:

* Низкие значения (0.1-0.3):
  * Использует наиболее вероятные слова
  * Подходит для документации
* Средние значения (0.4-0.6):
  * Баланс разнообразия и точности
* Высокие значения (0.7-1.0):
  * Использует широкий набор слов
  * Подходит для креативных задач

{% hint style="info" %}
- Параметры можно использовать отдельно или комбинировать
- Подбирайте значения под конкретные задачи
- Вышеуказанные значения носят рекомендательный характер
{% endhint %}

#### <mark style="color:blue;">**`Размер контекста (Context Window)`**</mark>

Количество сообщений в контексте. Больше значений = длиннее контекст = больше токенов:

* 5-10: подходит для обычных диалогов
* >10: для сложных задач с долгосрочной памятью
* Примечание: больше сообщений = больше токенов

#### <mark style="color:blue;">**`Ограничение длины ответа (MaxToken)`**</mark>

Максимальное количество [токенов](https://docs.cherry-ai.com/question-contact/knowledge#что-такое-токены) для одного ответа. Влияет на длину и качество ответа.

> Пример: при тестировании подключения модели MaxToken=1 достаточно.

Большинство моделей поддерживают до 32k токенов (проверяйте документацию).

Рекомендации:

{% hint style="success" %}
* Обычные диалоги: 500-800
* Краткие тексты: 800-2000
* Генерация кода: 2000-3600
* Длинные тексты: 4000+ (требует поддержки модели)
{% endhint %}

{% hint style="warning" %}
Ответы могут обрезаться или быть неполными при недостаточном значении MaxToken.
{% endhint %}

#### <mark style="color:blue;">**`Потоковый вывод (Stream)`**</mark>

Вывод данных непрерывным потоком. Обеспечивает эффект "печатной машинки".

При выключении: ответ выводится целиком после генерации (как в мессенджерах).

При включении: вывод посимвольный.

{% hint style="info" %}
Выключайте для моделей без потоковой поддержки (например, ранние версии o1-mini).
{% endhint %}

#### <mark style="color:blue;">**`Пользовательские параметры`**</mark>

Добавление дополнительных параметров в запрос (например, `presence_penalty`). Пример:

> top-p, maxtokens, stream – примеры таких параметров.

Формат: имя-тип-значение. См. [документацию](https://openai.apifox.cn/doc-3222739)

{% hint style="info" %}
* Пользовательские параметры имеют приоритет над встроенными (например, `model` переопределяет выбор модели в диалоге).
* Используйте <kbd>параметр:undefined</kbd> для исключения параметра.
* Провайдеры моделей используют уникальные параметры (проверяйте документацию).
{% endhint %}