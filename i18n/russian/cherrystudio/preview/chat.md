---
icon: message
---
# Интерфейс диалога


{% hint style="warning" %}
Этот документ переведен с китайского языка с помощью ИИ и еще не был проверен.
{% endhint %}




## Ассистенты и темы

### Ассистент

`Ассистент` позволяет настроить выбранные модели с персонализированными параметрами, такими как предустановленные подсказки и параметры. Эти настройки помогают сделать работу выбранных моделей более соответствующей вашим ожиданиям.

`Системный ассистент по умолчанию` имеет универсальные параметры (без подсказок). Вы можете использовать его напрямую или найти необходимые предустановки на [странице агентов](agents.md).

### Тема

`Ассистент` является родительским для `темы`. В рамках одного ассистента можно создать несколько тем (диалогов). Все `темы` используют общие настройки ассистента: параметры, предустановленные подсказки (prompt) и другие настройки модели.

<figure><img src="../../.gitbook/assets/image (4) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## Кнопки внутри диалогового окна

<figure><img src="../../.gitbook/assets/对话界面/对话框.png" alt=""><figcaption></figcaption></figure>

![](../../.gitbook/assets/对话界面/新话题.png) `Новая тема` — создает новую тему в текущем ассистенте.

![](../../.gitbook/assets/对话界面/上传图片或文档.png) `Загрузить изображение или документ` — загрузка изображений требует поддержки моделью, загрузка документов автоматически преобразуется в текст для предоставления контекста модели.

![](../../.gitbook/assets/对话界面/网络搜索.png) `Сетевой поиск` — требует настройки сетевого поиска в параметрах. Результаты поиска возвращаются модели как контекст. Подробнее в разделе [Режим онлайн](../../websearch/).

![](../../.gitbook/assets/对话界面/知识库.png) `База знаний` — активирует базу знаний. Подробнее в [руководстве по базе знаний](../../knowledge-base/knowledge-base.md).

![](<../../.gitbook/assets/对话界面/MCP 服务器.png>) `MCP-сервер` — активирует функцию MCP-сервера. Подробнее в [руководстве по использованию MCP](../../advanced-basic/mcp/).

![](../../.gitbook/assets/对话界面/生成图片.png) `Создать изображение` — отображается только если выбранная **диалоговая модель** поддерживает генерацию изображений. (Для моделей генерации изображений без диалога перейдите в раздел [Генерация изображений](./drawing.md))

![](../../.gitbook/assets/对话界面/选择模型.png) `Выбрать модель` — переключает на указанную модель для последующих диалогов с сохранением контекста.

![](../../.gitbook/assets/对话界面/快捷短语.png) `Быстрые фразы` — требуют предварительной настройки часто используемых фраз в параметрах. Поддерживают переменные.

![](../../.gitbook/assets/对话界面/清空消息.png) `Очистить сообщения` — удаляет все содержимое текущей темы.

![](../../.gitbook/assets/对话界面/展开.png) `Развернуть` — увеличивает размер диалогового окна для ввода длинных текстов.

![](../../.gitbook/assets/对话界面/清除上下文.png) `Очистить контекст` — обрезает контекст, доступный модели, без удаления содержимого. Модель «забудет» предыдущие части диалога.

![](<../../.gitbook/assets/对话界面/预估 Token 数.png>) `Оценка токенов` — отображает оценочное количество токенов. Четыре значения: `Текущее количество контекста`, `Максимальное количество контекста` (∞ означает неограниченный контекст), `Количество символов в текущем сообщении`, `Оценочное количество токенов`.

{% hint style="info" %}
Эта функция предназначена только для оценки количества токенов. Фактическое количество токенов различается для каждой модели. Сверяйтесь с данными провайдера модели.
{% endhint %}

![](../../.gitbook/assets/对话界面/翻译.png) `Перевод` — переводит содержимое текущего поля ввода на английский язык.

## Настройки диалога

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Настройки модели

Настройки модели синхронизируются с параметрами `Настройки модели` в разделе настройки ассистента. Подробнее в разделе [Настройка ассистента](chat.md#bian-ji-zhu-shou).

{% hint style="info" %}
В настройках диалога параметр модели применяется только к текущему ассистенту, остальные настройки — глобально. Например, после установки стиля сообщений как «пузырьков» все темы во всех ассистентах будут отображаться в этом стиле.
{% endhint %}

### Настройки сообщений

#### <mark style="color:blue;">**`Разделитель сообщений`**</mark>:

Разделяет текст сообщения и панель операций с помощью линии.

{% tabs %}
{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Использовать шрифт с засечками`**</mark>:

Переключает стиль шрифта. Вы также можете изменить шрифт через [пользовательский CSS](../../personalization-settings/).

#### <mark style="color:blue;">**`Отображать номера строк в коде`**</mark>:

Отображает номера строк в фрагментах кода, выводимых моделью.

{% tabs %}
{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Сворачиваемые блоки кода`**</mark>:

При включении длинные фрагменты кода автоматически сворачиваются.

#### <mark style="color:blue;">**`Перенос строк в коде`**</mark>:

При включении длинные строки кода (выходящие за пределы окна) автоматически переносятся.

#### <mark style="color:blue;">**`Автоматическое сворачивание рассуждений`**</mark>:

При включении рассуждения моделей, поддерживающих этот режим, автоматически сворачиваются после завершения.

#### <mark style="color:blue;">**`Стиль сообщений`**</mark>:

Переключает интерфейс диалога между стилем «пузырьков» и списком.

#### <mark style="color:blue;">**`Стиль кода`**</mark>:

Изменяет стиль отображения фрагментов кода.

#### <mark style="color:blue;">**`Движок математических формул`**</mark>:

* KaTeX — быстрее рендерит, так как оптимизирован для производительности;
* MathJax — медленнее, но поддерживает больше математических символов и команд.

#### <mark style="color:blue;">**`Размер шрифта сообщений`**</mark>:

Регулирует размер шрифта в интерфейсе диалога.

### Настройки ввода

#### <mark style="color:blue;">**`Показывать оценку токенов`**</mark>:

Отображает оценочное количество токенов для введенного текста (не учитывает фактическое потребление токенов контекстом, только для справки).

#### <mark style="color:blue;">**`Вставка длинного текста как файла`**</mark>:

При вставке длинного текста из других источников он автоматически отображается в стиле файла, чтобы не мешать последующему вводу.

#### <mark style="color:blue;">**`Рендеринг Markdown во входящих сообщениях`**</mark>:

При выключении рендерится только ответ модели, но не отправленные сообщения.

{% tabs %}
{% tab title="Выключено" %}
<figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}

{% tab title="Включено" %}
<figure><img src="../../.gitbook/assets/image (7) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`Быстрый перевод тройным пробелом`**</mark>:

После ввода сообщения в поле диалога трижды нажмите пробел для перевода содержимого на английский.

{% hint style="warning" %}
Внимание: это действие перезапишет исходный текст.
{% endhint %}

#### <mark style="color:blue;">**`Целевой язык`**</mark>:

Задает целевой язык для кнопки перевода и тройного пробела.

## Настройка ассистента

В интерфейсе ассистента выберите <mark style="background-color:yellow;">имя ассистента</mark> → в <mark style="background-color:yellow;">контекстном меню</mark> выберите соответствующую настройку

### Редактирование ассистента

{% hint style="info" %}
Настройки ассистента применяются ко всем темам в рамках этого ассистента.
{% endhint %}

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### Настройки подсказок

#### <mark style="color:blue;">**`Имя`**</mark>:

Можно задать удобное имя для распознавания ассистента.

#### <mark style="color:blue;">**`Подсказка`**</mark>:

То есть prompt. Содержимое можно редактировать по аналогии с примерами на странице агентов.

#### Настройки модели

#### <mark style="color:blue;">**`Модель по умолчанию`**</mark>:

Можно закрепить модель по умолчанию для этого ассистента. При добавлении со страницы агентов или копировании ассистента начальной моделью будет эта. Если не задано, начальная модель будет глобальной моделью по умолчанию (т.е. [Модель ассистента по умолчанию](settings/default-models.md#mo-ren-zhu-shou-mo-xing)).

{% hint style="info" %}
Существует две модели по умолчанию для ассистента: [Глобальная модель диалога по умолчанию](settings/default-models.md#mo-ren-zhu-shou-mo-xing) и модель ассистента по умолчанию. Приоритет модели ассистента выше глобальной модели диалога. Если не задана модель ассистента по умолчанию, она равна глобальной модели диалога.
{% endhint %}

#### <mark style="color:blue;">**`Автоматический сброс модели`**</mark>:

Включено — при переключении на другую модель в рамках этой темы при создании новой темы модель сбросится на модель ассистента по умолчанию. При выключении новая тема будет использовать модель из предыдущей темы.

> Например, модель ассистента по умолчанию — gpt-3.5-turbo. Я создаю тему 1 в этом ассистенте и в процессе диалога переключаюсь на gpt-4o:
>
> Если автоматический сброс включен: при создании темы 2 модель по умолчанию будет gpt-3.5-turbo;
>
> Если автоматический сброс выключен: при создании темы 2 модель по умолчанию будет gpt-4o.

#### <mark style="color:blue;">**`Температура (Temperature)`**</mark>:

Параметр, контролирующий случайность и креативность генерируемого текста (значение по умолчанию 0.7). Конкретно:

* Низкие значения (0-0.3):
  * Более определенный и сфокусированный вывод
  * Подходит для генерации кода, анализа данных и сценариев, требующих точности
  * Склонен к выбору наиболее вероятных слов
* Средние значения (0.4-0.7):
  * Баланс креативности и связности
  * Подходит для обычных диалогов, общего письма
  * Рекомендуется для чат-ботов (около 0.5)
* Высокие значения (0.8-1.0):
  * Генерирует более креативный и разнообразный вывод
  * Подходит для творческого письма, мозгового штурма
  * Может снижать связность текста

#### <mark style="color:blue;">**`Top P (Ядерная выборка)`**</mark>:

Значение по умолчанию — 1. Чем меньше значение, тем однообразнее и понятнее контент; чем больше значение, тем шире словарный запас и разнообразнее ответ.

Ядерная выборка влияет на вывод через порог вероятности выбора слов:

* Небольшие значения (0.1-0.3):
  * Учитываются только слова с наивысшей вероятностью
  * Более консервативный и контролируемый вывод
  * Подходит для комментариев к коду, технической документации
* Средние значения (0.4-0.6):
  * Баланс разнообразия и точности словаря
  * Подходит для общих диалогов и письменных задач
* Большие значения (0.7-1.0):
  * Учитывается более широкий выбор слов
  * Создает более богатый и разнообразный контент
  * Подходит для творческого письма, требующего разнообразного выражения

{% hint style="info" %}
- Эти параметры можно использовать независимо или комбинировать
- Выбирайте подходящие значения в зависимости от типа задачи
- Рекомендуется экспериментировать для поиска оптимальных параметров
- Приведенные диапазоны параметров могут не подходить для всех моделей. Сверяйтесь с рекомендациями документации модели.
{% endhint %}

#### <mark style="color:blue;">**`Количество контекста (Context Window)`**</mark>

Количество сообщений, сохраняемых в контексте. Чем больше значение, тем длиннее контекст и выше потребление токенов:

* 5-10: подходит для обычного диалога
* >10: сложные задачи, требующие долгой памяти (например, пошаговая генерация длинных текстов по плану для обеспечения логической связности)
* > Примечание: чем больше сообщений, тем выше потребление токенов

#### <mark style="color:blue;">**`Включить ограничение длины сообщений (MaxToken)`**</mark>

Максимальное количество [токенов](https://docs.cherry-ai.com/question-contact/knowledge#shen-me-shi-tokens) за один ответ. В языковых моделях max token — ключевой параметр, напрямую влияющий на качество и длину ответа.

> Например: при тестировании подключения модели в CherryStudio после ввода ключа достаточно убедиться, что модель возвращает корректное сообщение без конкретного содержания. В таком случае установите MaxToken = 1.

Для большинства моделей верхний предел MaxToken составляет 32k токенов, но есть модели на 64k и выше. Уточняйте на соответствующей странице описания.

Конкретное значение зависит от ваших потребностей. Также можно воспользоваться следующими рекомендациями.

{% hint style="success" %}
Рекомендации:

* Обычный чат: 500-800
* Генерация коротких текстов: 800-2000
* Генерация кода: 2000-3600
* Генерация длинных текстов: 4000 и выше (требуется поддержка модели)
{% endhint %}

{% hint style="warning" %}
Обычно ответ модели ограничивается значением MaxToken, но в некоторых случаях возможны обрезка (например, при генерации длинного кода) или неполное выражение. В особых случаях необходимо гибко регулировать параметр.
{% endhint %}

#### <mark style="color:blue;">**`Потоковый вывод (Stream)`**</mark>

Потоковый вывод — способ обработки данных, позволяющий передавать и обрабатывать данные непрерывным потоком, а не единовременно. Это позволяет обрабатывать и выводить данные сразу после генерации, значительно повышая реалистичность и эффективность.

В среде CherryStudio и подобных клиентов это проявляется как эффект печатающей машинки.

Выключено (не потоковый): модель выводит весь текст сразу после завершения генерации (аналогично получению сообщения в WeChat);

Включено: вывод посимвольно. Можно представить, что модель отправляет каждый сгенерированный символ немедленно, пока не завершит отправку.

{% hint style="info" %}
Если некоторые специфические модели не поддерживают потоковый вывод, отключите этот переключатель. Например, o1-mini **изначально** поддерживает только не потоковый вывод.
{% endhint %}

#### <mark style="color:blue;">**`Пользовательские параметры`**</mark>

Добавляет дополнительные параметры запроса в тело запроса (body), такие как поля `presence_penalty`. Обычно не требуется для стандартного использования.

> Параметры top-p, maxtokens, stream и т.д. являются частью этих параметров.

Формат заполнения: имя параметра — тип параметра (текст, число и т.д.) — значение. Справочная документация: [ссылка](https://openai.apifox.cn/doc-3222739)

{% hint style="info" %}
Каждый провайдер моделей имеет собственные уникальные параметры. Уточняйте методы использования в документации провайдера.
{% endhint %}

{% hint style="info" %}
* Пользовательские параметры имеют более высокий приоритет, чем встроенные. Если пользовательский параметр дублирует встроенный, он заменяет его.

> Например: после установки `model` как `gpt-4o` в пользовательских параметрах, в диалоге будет использоваться модель `gpt-4o` независимо от выбора модели.

* Использование настройки <kbd>имя_параметра:undefined</kbd> исключает параметр.
{% endhint %}