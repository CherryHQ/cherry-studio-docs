---
icon: book-bookmark
---

{% hint style="warning" %}
このドキュメントはAIによって中国語から翻訳されており、まだレビューされていません。
{% endhint %}

# 知識解説

## Tokensとは何か？

TokensはAIモデルがテキストを処理する基本的な単位であり、モデルが「思考」する最小ユニットと理解できます。これは我々が理解する文字や単語とは完全には一致せず、モデル独自の特殊なテキスト分割方法です。

#### 1. 中国語の分かち書き
* 1つの漢字は通常1～2トークンにエンコードされる
* 例：`"你好"` ≈ 2-4トークン

#### 2. 英語の分かち書き
* 一般的な単語は通常1トークン
* 長い単語や珍しい単語は複数トークンに分割される
* 例：
  * `"hello"` = 1トークン
  * `"indescribable"` = 4トークン

#### 3. 特殊文字
* スペースや句読点もトークンを消費
* 改行文字は通常1トークン

{% hint style="info" %}
異なるプロバイダーのTokenizerは全て異なり、同じプロバイダーでもモデルによってTokenizerに違いがあります。この解説はトークンの概念を明確にするためのものです。
{% endhint %}

***

## Tokenizerとは何か？

Tokenizer（トークナイザー）はAIモデルがテキストをtokensに変換するツールです。入力テキストをモデルが理解できる最小単位にどう分割するかを決定します。

### なぜモデルごとにTokenizerが異なるのか？

#### 1. トレーニングデータの違い
* 異なるコーパスによる最適化方向の違い
* 多言語サポートレベルの差異
* 医療・法律など特定分野向けの最適化

#### 2. 分かち書きアルゴリズムの違い
* BPE (Byte Pair Encoding) - OpenAI GPTシリーズ
* WordPiece - Google BERT
* SentencePiece - 多言語シナリオ向け

#### 3. 最適化目標の違い
* 圧縮効率を重視するもの
* 意味保持を重視するもの
* 処理速度を重視するもの

### 実際の影響
同じテキストでもモデルによってトークン数が異なる可能性：
```
入力："Hello, world!"
GPT-3: 4トークン
BERT: 3トークン
Claude: 3トークン
```

***

## Embedding Model（埋め込みモデル）とは何か？

**基本概念：** 埋め込みモデルは、高次元の離散データ（テキスト、画像など）を低次元の連続ベクトルに変換する技術です。この変換により、機械が複雑なデータをより良く理解・処理できるようになります。複雑なパズルを単純な座標点に簡略化するイメージで、パズルの主要な特徴を保持します。大規模モデル生態系では「翻訳者」として機能し、人間が理解可能な情報をAIが計算可能な数値形式に変換します。

**動作原理：** 自然言語処理を例にすると、埋め込みモデルは単語をベクトル空間内の特定位置にマッピングします。この空間では、意味的に類似した単語が自動的に近くに集まります。例：
* 「王様」と「女王」のベクトルは近い
* 「猫」と「犬」などのペット関連語も距離が近い
* 一方で「車」と「パン」など無関係な語は距離が遠い

**主な応用シナリオ：**
* テキスト分析：文書分類、感情分析
* 推薦システム：パーソナライズドコンテンツ推薦
* 画像処理：類似画像検索
* 検索エンジン：意味検索の最適化

**コアメリット：**
1. 次元削減効果：複雑データを扱いやすいベクトル形式に簡略化
2. 意味保存：元データの重要な意味情報を保持
3. 計算効率：機械学習モデルの学習・推論効率を大幅向上

**技術的価値：** 埋め込みモデルは現代AIシステムの基盤コンポーネントであり、機械学習タスクに高品質なデータ表現を提供するため、自然言語処理やコンピュータビジョンなどの分野発展を推進する鍵技術です。

***

## 知識検索におけるEmbeddingモデルの動作原理

**基本的ワークフロー：**

1. **知識ベース前処理段階**
* ドキュメントを適切なサイズのchunk（テキスト塊）に分割
* embeddingモデルで各chunkをベクトルに変換
* ベクトルと原文をベクトルデータベースに保存

2. **クエリ処理段階**
* ユーザー質問をベクトルに変換
* ベクトルデータベースで類似内容を検索
* 検索された関連内容を文脈としてLLMに提供

***

## **MCP（Model Context Protocol）とは何か？**

MCPは標準化された方法で大規模言語モデル（LLM）にコンテキスト情報を提供することを目的としたオープンソースプロトコルです。

* **比喩的理解：** MCPはAI分野の「USBメモリ」と想像できます。USBメモリが様々なファイルを保存し、コンピュータに挿入すれば即時使用可能となるように、MCP Serverには様々なコンテキスト提供「プラグイン」を「挿入」できます。LLMは必要に応じてMCP Serverにこれらのプラグインを要求し、豊富なコンテキスト情報を取得して自身の能力を強化できます。
* **Function Toolとの比較：** 従来のFunction Tool（関数ツール）もLLMに外部機能を提供しますが、MCPはより高次元の抽象化と見なせます。Function Toolが特定タスク向けのツールであるのに対し、MCPはより汎用的でモジュール化されたコンテキスト取得メカニズムを提供します。

### **MCPの核心的メリット**

1. **標準化：** 統一インターフェースとデータ形式を提供し、異なるLLMとコンテキストプロバイダーのシームレスな連携を可能に
2. **モジュール化：** コンテキスト情報を独立モジュール（プラグイン）に分解可能で、管理と再利用が容易
3. **柔軟性：** LLMが自身のニーズに応じて動的に必要なコンテキストプラグインを選択可能で、よりスマートで個別化されたインタラクションを実現
4. **拡張性：** MCPの設計は将来の多様なコンテキストプラグイン追加をサポートし、LLMの能力拡張に無限の可能性を提供