---
icon: message
---
# チャットインターーフェース


{% hint style="warning" %}
このドキュメントはAIによって中国語から翻訳されており、まだレビューされていません。
{% endhint %}




## アシスタントとトピック

### アシスタント

`アシスタント`は、選択したモデルに対してプロンプトプリセットやパラメータ設定などのパーソナライズされた設定を行い、モデルの動作を期待する作業に適合させる機能です。

`システムデフォルトアシスタント`は汎用的なパラメータ（プロンプトなし）がプリセットされており、直接使用するか[エージェントページ](agents.md)で必要なプリセットを探して使用できます。

### トピック

`アシスタント`は`トピック`の親集合です。1つのアシスタントで複数のトピック（会話）を作成でき、全ての`トピック`は`アシスタント`のパラメータ設定やプロンプトなどのモデル設定を共有します。

<figure><img src="../../.gitbook/assets/image (4) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## ダイアログ内ボタン

<figure><img src="../../.gitbook/assets/对话界面/对话框.png" alt=""><figcaption></figcaption></figure>

![](../../.gitbook/assets/对话界面/新话题.png) `新トピック`：現在のアシスタント内で新しいトピックを作成します。

![](../../.gitbook/assets/对话界面/上传图片或文档.png) `画像/ドキュメントアップロード`：画像アップロードはモデルのサポートが必要です。ドキュメントは自動的に解析され、モデルにコンコンテキストとして提供されます。

![](../../.gitbook/assets/对话界面/网络搜索.png) `ウェブ検索`：設定で検索情報を設定する必要があります。検索結果は大規模モデルにコンテキストとして返されます。詳細は[ネットワークモード](../../websearch/)を参照。

![](../../.gitbook/assets/对话界面/知识库.png) `ナレッジベース`：ナレッジベースを有効化。詳細は[ナレッジベースチュートリアル](../../knowledge-base/knowledge-base.md)を参照。

![](<../../.gitbook/assets/对话界面/MCP 服务器.png>) `MCPサーサーバー`：MCPサーバー機能を有効化。詳細は[MCP使用チュートリアル](../../advanced-basic/mcp/)を参照。

![](../../.gitbook/assets/对话界面/生成图片.png) `画像生成`：デフォルトでは表示されません。画像生成をサポートするモデル（Geminiなど）で手動で有効化する必要があります。

{% hint style="info" %}
技術的な理由により、画像を生成するにはボタンを手動で有効化する必要があります。この機能が最適化された後、ボタンは削除されます。
{% endhint %}

![](../../.gitbook/assets/对话界面/选择模型.png) `モデル選択`：以降の会話で指定したモデルに切り替え、コンコンテキストを保持します。

![](../../.gitbook/assets/对话界面/快捷短语.png) `クイックフレーズ`：設定であらかじめよく使うフレーズを設定し、ここで呼び出して直接入力します。変数がサポートされます。

![](../../.gitbook/assets/对话界面/清空消息.png) `メッセージクリア`：このトピックの全ての内容を削除します。

![](../../.gitbook/assets/对话界面/展开.png) `展開`：長文入力のためにダイアログを拡大します。

![](../../.gitbook/assets/对话界面/清除上下文.png) `コンコンテキストクリア`：内容を削除せずに、モデルが取得できるコンテキストを切断します。つまり、モデルは以前の会話内容を「忘れ」ます。

![](<../../.gitbook/assets/对话界面/预估 Token 数.png>) `トークン数推定`：推定トークン数を表示。4つのデータはそれぞれ`現在のコンテキスト数`、`最大コンコンテキスト数`（∞は無制限）、`現在の入力ボックス内のメッセージ単語数`、`推定トークン数`です。

{% hint style="info" %}
この機能はトークン数の推定のみに使用されます。実際のトークン数はモデルごとに異なるため、モデルプロバイダーのデータを参照してください。
{% endhint %}

![](../../.gitbook/assets/对话界面/翻译.png) `翻訳`：現在の入力ボックス内の内容を英語に翻訳します。

## チャット設定

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

### モデル設定

モデル設定はアシスタント設定の`モデル設定`パラメータと同期します。詳細は[アシスタント設定](chat.md#bian-ji-zhu-shou)を参照。

{% hint style="info" %}
チャット設定では、このモデル設定のみが現在のアシスタントに適用され、その他の設定はグローバルに適用されます。例：メッセージスタイルをバブルに設定すると、すべてのアシスタントの全てのトピックでバブルスタイルになります。
{% endhint %}

### メッセージ設定

#### <mark style="color:blue;">**`メッセージ区切り線`**</mark>:

区切り線を使用してメッセージ本文と操作バーを分離します。

{% tabs %}
{% tab title="オン時" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="オフ時" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`セリフ体フォントの使用`**</mark>：

フォントスタイルの切り替え。[カスタムCSS](../../personalization-settings/)でフォントを変更することも可能です。

#### <mark style="color:blue;">**`コードに行番号を表示`**</mark>：

モデルがコードスニペットを出力する際に行番号を表示します。

{% tabs %}
{% tab title="オフ時" %}
<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="オン時" %}
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`コードブロックの折りたたみ`**</mark>：

有効にすると、コードスニペットが長い場合に自動的にコードブロックを折りたたみます。

#### <mark style="color:blue;">**`コードブロックの折り返し`**</mark>：

有効にすると、1行のコードが長い場合（ウィンドウを超える）に自動的に折り返します。

#### <mark style="color:blue;">**`思考内容の自動折りたたみ`**</mark>：

有効にすると、思考をサポートするモデルは思考完了後に思考プロセスを自動的に折りたたみます。

#### <mark style="color:blue;">**`メッセージスタイル`**</mark>：

チャットインターフェースをバブルスタイルまたはリストスタイルに切り替えられます。

#### <mark style="color:blue;">**`コードスタイル`**</mark>：

コードスニペットの表示スタイルを切り替えられます。

#### <mark style="color:blue;">**`数式エンジン`**</mark>：

* KaTeX: パフォーマンス最適化のため、レンダリングが高速
* MathJax: レンダリング速度は遅いが機能が豊富で、より多くの数学記号やコマンドをサポート

#### <mark style="color:blue;">**`メッセージフォントサイズ`**</mark>：

チャットインターーフェースのフォントサイズを調整します。

### 入力設定

#### <mark style="color:blue;">**`推定トークン数の表示`**</mark>：

入力ボックスに入力テキストの推定消費トークン数を表示します（実際のコンテキスト消費トークンではなく、参考値）。

#### <mark style="color:blue;">**`長文をファイルとして貼り付け`**</mark>：

他の場所から長文をコピーして入力ボックスに貼り付けると、ファイルスタイルで自動表示され、後続の入力の干渉を減らします。

#### <mark style="color:blue;">**`入力メッセージのMarkdownレンダリング`**</mark>：

オフ時はモデル応答メッセージのみレンダリングし、送信メッセージはレンダリングしません。

{% tabs %}
{% tab title="オフ時" %}
<figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}

{% tab title="オン時" %}
<figure><img src="../../.gitbook/assets/image (7) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`スペース3回連打で翻訳`**</mark>：

チャットインターフェースの入力ボックスでメッセージ入力後、スペースを3回連打すると入力内容を英語に翻訳します。

{% hint style="warning" %}
注意：この操作は原文を上書きします。
{% endhint %}

#### <mark style="color:blue;">**`ターゲット言語`**</mark>：

入力ボックスの翻訳ボタンおよびスペース3回連打翻訳のターゲット言語を設定します。

## アシスタント設定

アシスタントインターーフェースで設定したい<mark style="background-color:yellow;">アシスタント名</mark>を選択→<mark style="background-color:yellow;">右クリックメニュー</mark>で対応する設定を選択

### アシスタント編集

{% hint style="info" %}
アシスタント設定はそのアシスタントのすべてのトピックに適用されます。
{% endhint %}

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### プロンプト設定

#### <mark style="color:blue;">**`名前`**</mark>：

識別しやすいカスタムアシスタント名。

#### <mark style="color:blue;">**`プロンプト`**</mark>：

プロンプト。エージェントページのプロンプト記述方法を参考に編集できます。

#### モデル設定

#### <mark style="color:blue;">**`デフォルトモデル`**</mark>：

アシスタントに固定のデフォルトモデルを設定でき、エージェントページから追加時またはアシスタントコピー時の初期モデルになります。設定しない場合、初期モデルはグローバル初期モデル（[デフォルトアシスタントモデル](settings/default-models.md#mo-ren-zhu-shou-mo-xing)）になります。

{% hint style="info" %}
アシスタントのデフォルトモデルには[グローバルデフォルトチャットモデル](settings/default-models.md#mo-ren-zhu-shou-mo-xing)とアシスタントデフォルトモデルの2種類があります。アシスタントデフォルトモデルはグローバルデフォルトチャットモデルより優先されます。アシスタントデフォルトモデルを設定しない場合、アシスタントデフォルトモデル＝グローバルデフォルトチャットモデルになります。
{% endhint %}

#### <mark style="color:blue;">**`モデルの自動リセット`**</mark>：

オン時 - トピック使用中に他のモデルに切り替えた場合、新しいトピック作成時にはアシスタントのデフォルトモデルにリセットされます。オフ時は新しいトピックのモデルが前のトピックで使用したモデルを引き継ぎます。

> 例：アシスタントのデフォルトモデルがgpt-3.5-turboの場合、このアシスタントでトピック1を作成し、トピック1の会話中にgpt-4oに切り替えた場合：
> 
> 自動リセット有効時：トピック2作成時、デフォルトモデルはgpt-3.5-turbo
> 
> 自動リセット無効時：トピック2作成時、デフォルトモデルはgpt-4o

#### <mark style="color:blue;">**`温度 (Temperature)`**</mark> ：

温度パラメータはモデル生成テキストのランダム性と創造性を制御します（デフォルト値0.7）。具体的には：

* 低い値(0-0.3)：
  * 出力がより確定的で集中
  * コード生成、データ分析など正確性が必要な場面に適する
  * 最も可能性の高い単語を選択
* 中程度の値(0.4-0.7)：
  * 創造性と一貫性のバランス
  * 日常会話、一般的なライティングに適する
  * チャットボット会話に推奨(0.5前後)
* 高い値(0.8-1.0)：
  * より創造的で多様な出力
  * 創造的ライティング、ブレインストーーミングに適する
  * テキストの一貫性が低下する可能性

#### <mark style="color:blue;">**`Top P (核サンプリング)`**</mark>：

デフォルト値1。値が小さいほど、AI生成内容は単調で理解しやすくなります。値が大きいほど、AI応答の語彙範囲が広く多様化します。

核サンプリングは語彙選択の確率しきい値制御で出力に影響：

* 小さい値(0.1-0.3)：
  * 高確率語彙のみ考慮
  * 出力が保守的で制御しやすい
  * コードコメント、技術文書などに適する
* 中程度(0.4-0.6)：
  * 語彙多様性と正確性のバランス
  * 一般的な会話やライティングタスクに適する
* 大きい値(0.7-1.0)：
  * 幅広い語彙選択を考慮
  * より豊富で多様なコンコンテンンツ生成
  * 多様な表現が必要な創造的ライティングに適する

{% hint style="info" %}
- これらのパラメータは単独または組み合わせて使用可能
- 特定のタスクタイプに適したパラメータ値を選択
- 実験を通じて特定用途に最適なパラメータ組み合わせを見つけることを推奨
- 上記内容は参考および概念理解用で、パラメータ範囲は全てのモデルに適合するとは限りません。モデル関連ドキュメントの推奨パラメータを参照してください。
{% endhint %}

#### <mark style="color:blue;">**`コンコンテキスト数 (Context Window)`**</mark>

コンテキストに保持するメッセージ数。値が大きいほどコンテキストが長くなり、消費トークンが増加：

* 5-10：通常の会話向け
* \>10：より長い記憶が必要な複雑タスク向け（例：執筆アウトラインに基づく長文生成タスク）
* 注意：メッセージ数が多いほどトークン消費量増加

#### <mark style="color:blue;">**`メッセージ長制限の有効化 (MaxToken)`**</mark>

単一応答の最大 [トークン](https://docs.cherry-ai.com/question-contact/knowledge#shen-me-shi-tokens) 数。大規模言語モデルでは、max token（最大トークン数）は応答の品質と長さに直接影響する重要パラメータです。

> 例：CherryStudioでキー入力後、モデル接続テスト時には特定内容不要でモデルが正しく応答するか確認のみの場合、MaxTokenを1に設定可能。

大半のモデルのMaxToken上限は32kトークン（64k以上も存在）。詳細は対応紹介ページを参照。

必要に応じて設定しますが、以下が参考になります。

{% hint style="success" %}
推奨設定：
* 通常チャット：500-800
*