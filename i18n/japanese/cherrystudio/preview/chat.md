---
icon: message
---
# ダイアログインターフェース


{% hint style="warning" %}
このドキュメントはAIによって中国語から翻訳されており、まだレビューされていません。
{% endhint %}




## アシスタントとトピック

### アシスタント

`アシスタント` とは、選択したモデルを個別に設定することで使用するもので、プロンプトのプリセットやパラメータのプリセットなどが含まれます。これらの設定により、選択したモデルがあなたの期待に沿うように動作します。

`システムデフォルトアシスタント` には汎用的なパラメータ（プロンプトなし）がプリセットされています。直接使用するか、[エージェントページ](agents.md) で必要なプリセットを探して使用できます。

### トピック

`アシスタント` は `トピック` の上位集合です。1つのアシスタント内に複数のトピック（つまり会話）を作成でき、すべての `トピック` は `アシスタント` のパラメータ設定やプリセットプロンプトなどのモデル設定を共有します。

<figure><img src="../../.gitbook/assets/image (4) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## ダイアログボックス内のボタン

<figure><img src="../../.gitbook/assets/对话界面/对话框.png" alt=""><figcaption></figcaption></figure>

![](../../.gitbook/assets/对话界面/新话题.png) `新規トピック` 現在のアシスタント内で新しいトピックを作成します。

![](../../.gitbook/assets/对话界面/上传图片或文档.png) `画像またはドキュメントのアップロード` 画像のアップロードにはモデルのサポートが必要です。ドキュメントのアップロードは自動的にテキストに解析され、モデルへのコンテキストとして提供されます。

![](../../.gitbook/assets/对话界面/网络搜索.png) `ネット検索` 設定でネット検索の関連情報を構成する必要があります。検索結果はコンテキストとして大規模モデルに返されます。詳細は [ネット接続モード](../../websearch/) を参照してください。

![](../../.gitbook/assets/对话界面/知识库.png) `ナレッジベース` ナレッジベースを有効にします。詳細は [ナレッジベースチュートリアル](../../knowledge-base/knowledge-base.md) を参照してください。

![](<../../.gitbook/assets/对话界面/MCP 服务器.png>) `MCP サーバー` MCP サーバー機能を有効にします。詳細は [MCP 使用チュートリアル](../../advanced-basic/mcp/) を参照してください。

![](../../.gitbook/assets/对话界面/生成图片.png) `画像生成` **会話モデル** が画像生成をサポートしている場合のみ表示されます。（会話用以外の画像生成モデルは [描画](./drawing.md) へ）

![](../../.gitbook/assets/对话界面/选择模型.png) `モデルの選択` 今後の会話で指定モデルに切り替えます。コンテキストは保持されます。

![](../../.gitbook/assets/对话界面/快捷短语.png) `ショートカットフレーズ` 設定でよく使うフレーズを事前にプリセットし、ここから呼び出して直接入力します。変数もサポートします。

![](../../.gitbook/assets/对话界面/清空消息.png) `メッセージのクリア` このトピックのすべての内容を削除します。

![](../../.gitbook/assets/对话界面/展开.png) `展開` ダイアログボックスを大きくして長文の入力がしやすくします。

![](../../.gitbook/assets/对话界面/清除上下文.png) `コンテキストのクリア` 内容を削除せずにモデルが取得できるコンテキストを切り詰めます。つまりモデルは以前の会話内容を「忘れる」ことになります。

![](<../../.gitbook/assets/对话界面/预估 Token 数.png>) `トークン数の見積もり` トークン数の見積もりを表示します。4つのデータはそれぞれ `現在のコンテキスト数`、`最大コンテキスト数`（∞ は無制限のコンテキストを表す）、`現在の入力欄内のメッセージ文字数`、`見積もりトークン数` です。

{% hint style="info" %}
この機能はトークン数の見積もりのみに使用されます。実際のトークン数はモデルごとに異なりますので、モデル提供元のデータを参照してください。
{% endhint %}

![](../../.gitbook/assets/对话界面/翻译.png) `翻訳` 現在の入力欄内の内容を英語に翻訳します。

## ダイアログ設定

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

### モデル設定

モデル設定はアシスタント設定内の `モデル設定` パラメータと同期しています。詳細は [アシスタント設定](chat.md#bian-ji-zhu-shou) を参照してください。

{% hint style="info" %}
ダイアログ設定では、このモデル設定のみが現在のアシスタントに適用され、その他の設定はグローバルに適用されます。例: メッセージスタイルを吹き出しに設定すると、すべてのアシスタントのすべてのトピックで吹き出しスタイルになります。
{% endhint %}

### メッセージ設定

#### <mark style="color:blue;">**`メッセージ分割線`**</mark>:

メッセージ本文と操作バーを分割線で区切ります。

{% tabs %}
{% tab title="有効時" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="無効時" %}
<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`セリフ体フォントの使用`**</mark>:

フォントスタイルの切り替えです。[カスタムCSS](../../personalization-settings/) を使用してフォントを変更することもできます。

#### <mark style="color:blue;">**`コード行番号表示`**</mark>:

モデルが出力したコードスニペットにコードブロックの行番号を表示します。

{% tabs %}
{% tab title="無効時" %}
<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}

{% tab title="有効時" %}
<figure><img src="../../.gitbook/assets/image (3) (1) (1).png" alt=""><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`コードブロックの折りたたみ可能`**</mark>:

有効にすると、コードスニペットが長い場合、コードブロックが自動的に折りたたまれます。

#### <mark style="color:blue;">**`コードブロックの折り返し可能`**</mark>:

有効にすると、コードスニペットの1行が長い場合（ウィンドウ幅を超える場合）、自動的に折り返されます。

#### <mark style="color:blue;">**`思考内容の自動折りたたみ`**</mark>:

有効にすると、思考をサポートするモデルが思考を終了した後、思考プロセスが自動的に折りたたまれます。

#### <mark style="color:blue;">**`メッセージスタイル`**</mark>:

ダイアログインターフェースを吹き出しスタイルまたはリストスタイルに切り替えます。

#### <mark style="color:blue;">**`コードスタイル`**</mark>:

コードスニペットの表示スタイルを切り替えます。

#### <mark style="color:blue;">**`数式エンジン`**</mark>:

* KaTeX はパフォーマンス最適化を目的に設計されているため、レンダリング速度がより高速です。
* MathJax はレンダリングが遅いですが、機能がより包括的で、より多くの数式シンボルやコマンドをサポートします。

#### <mark style="color:blue;">**`メッセージフォントサイズ`**</mark>:

ダイアログインターフェースのフォントサイズを調整します。

### 入力設定

#### <mark style="color:blue;">**`トークン数の見積もり表示`**</mark>:

入力欄に、入力テキストが消費すると見積もりされるトークン数を表示します（実際のコンテキスト消費トークン数ではなく、参考値です）。

#### <mark style="color:blue;">**`長文をファイルとして貼り付け`**</mark>:

他所からコピーした長文を入力欄に貼り付けると、自動的にファイル形式で表示されます。これにより、後続の入力内容への干渉が減少します。

#### <mark style="color:blue;">**`入力メッセージのMarkdownレンダリング`**</mark>:

無効時はモデルの返答メッセージのみをレンダリングし、送信メッセージはレンダリングしません。

{% tabs %}
{% tab title="無効時" %}
<figure><img src="../../.gitbook/assets/image (4) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}

{% tab title="有効時" %}
<figure><img src="../../.gitbook/assets/image (7) (1).png" alt="" width="563"><figcaption></figcaption></figure>
{% endtab %}
{% endtabs %}

#### <mark style="color:blue;">**`スペース3回連打で翻訳`**</mark>:

ダイアログインターフェースの入力欄でメッセージを入力後、スペースキーを3回連打すると入力内容が英語に翻訳されます。

{% hint style="warning" %}
注意：この操作により原文が上書きされます。
{% endhint %}

#### <mark style="color:blue;">**`ターゲット言語`**</mark>:

入力欄の翻訳ボタンおよびスペース3回連打翻訳のターゲット言語を設定します。

## アシスタント設定

アシスタント画面で設定したい<mark style="background-color:yellow;">アシスタント名</mark>を選択→<mark style="background-color:yellow;">右クリックメニュー</mark>から対応する設定を選択

### アシスタントの編集

{% hint style="info" %}
アシスタント設定は、そのアシスタント以下のすべてのトピックに適用されます。
{% endhint %}

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### プロンプト設定

#### <mark style="color:blue;">**`名称`**</mark>:

識別しやすいようにアシスタント名をカスタマイズできます。

#### <mark style="color:blue;">**`プロンプト`**</mark>:

プロンプトとは、エージェントページのプロンプト記法を参考に編集する内容です。

#### モデル設定

#### <mark style="color:blue;">**`デフォルトモデル`**</mark>:

このアシスタントに固定のデフォルトモデルを設定できます。エージェントページから追加時やアシスタントをコピーする際の初期モデルがこのモデルになります。この項目を設定しない場合、初期モデルはグローバル初期モデル（つまり [デフォルトアシスタントモデル](settings/default-models.md#mo-ren-zhu-shou-mo-xing)）になります。

{% hint style="info" %}
アシスタントのデフォルトモデルには2種類あります。1つは [グローバルデフォルト会話モデル](settings/default-models.md#mo-ren-zhu-shou-mo-xing)、もう1つはアシスタントデフォルトモデルです。アシスタントのデフォルトモデルの優先度はグローバルデフォルト会話モデルよりも高いです。アシスタントデフォルトモデルを設定しない場合、アシスタントデフォルトモデル＝グローバルデフォルト会話モデルになります。
{% endhint %}

#### <mark style="color:blue;">**`モデルの自動リセット`**</mark>:

有効時 - このトピックで使用中に他のモデルに切り替えた場合、新規トピック作成時に新規トピックのモデルがアシスタントのデフォルトモデルにリセットされます。この項目を無効にすると、新規トピックのモデルは前回のトピックで使用したモデルが継承されます。

> 例：アシスタントのデフォルトモデルがgpt-3.5-turboで、このアシスタントでトピック1を作成し、トピック1の会話中にgpt-4oに切り替えた場合：
>
> モデルの自動リセットが有効：トピック2作成時、デフォルトモデルはgpt-3.5-turbo
>
> モデルの自動リセットが無効：トピック2作成時、デフォルトモデルはgpt-4o

#### <mark style="color:blue;">**`温度 (Temperature)`**</mark>：

温度パラメータは、モデルが生成するテキストのランダム性と創造性の程度を制御します（デフォルト値0.7）。具体的には：

* 低温値(0-0.3)：
  * 出力がより確実で集中する
  * コード生成、データ分析など精度が求められるシナリオに適する
  * 最も可能性の高い語彙を選択する傾向がある
* 中温値(0.4-0.7)：
  * 創造性と一貫性をバランス
  * 日常会話、一般的な執筆に適する
  * チャットボット会話に推奨（約0.5）
* 高温値(0.8-1.0)：
  * より創造的で多様な出力が生成される
  * 創作、ブレインストーミングなどに適する
  * ただしテキストの一貫性が低下する可能性

#### <mark style="color:blue;">**`Top P (核サンプリング)`**</mark>：

デフォルト値は1です。値が小さいほどAI生成内容は単調で理解しやすくなり、値が大きいほどAIが使用する語彙範囲が広く多様になります。

核サンプリングは語彙選択の確率閾値を制御することで出力に影響します：

* 小さい値(0.1-0.3)：
  * 最高確率の語彙のみを考慮
  * 出力がより保守的、コントロール可能
  * コードコメント、技術文書などに適する
* 中間値(0.4-0.6)：
  * 語彙多様性と正確性をバランス
  * 一般的な会話や執筆タスクに適する
* 大きい値(0.7-1.0)：
  * より幅広い語彙選択を考慮
  * より豊かで多様なコンテンツを生成
  * 創作など多様な表現が求められるシナリオに適する

{% hint style="info" %}
- これらのパラメータは独立して使用することも組み合わせて使用することも可能です
- 具体的なタスクタイプに応じて適切なパラメータ値を選択してください
- 特定のアプリケーションシナリオに最適なパラメータ組み合わせを実験で見つけることをお勧めします
- 上記内容は概念の理解のための参考であり、提示されたパラメータ範囲がすべてのモデルに適しているとは限りません。モデル関連文書のパラメータ推奨を参照してください。
{% endhint %}

#### <mark style="color:blue;">**`コンテキスト数 (Context Window)`**</mark>

コンテキストに保持するメッセージの数です。数値が大きいほどコンテキストが長くなり、消費されるトークン数も増えます：

* 5-10：通常の会話に適する
* >10：より長いメモリが必要な複雑なタスク（例：執筆アウトラインに従って長文を段階的に生成するタスクでは、生成されるコンテキストが論理的に一貫していることを保証する必要があります）
* > 注意：メッセージ数が多いほどトークン消費が大きくなります

#### <mark style="color:blue;">**`メッセージ長制限の有効化 (MaxToken)`**</mark>

単一回答の最大 [トークン](https://docs.cherry-ai.com/question-contact/knowledge#shen-me-shi-tokens) 数です。大規模言語モデルでは、max token（最大トークン数）はモデルが回答を生成する品質と長さに直接影響する重要なパラメータです。

> 例：CherryStudioでキーを入力後、モデルが接続可能かテストする場合、特定の内容ではなくモデルが正しくメッセージを返すかどうかを確認するだけで良い場合、MaxTokenを1に設定できます。

多くのモデルのMaxToken上限は32kトークンですが、64kやそれ以上のものもあります。詳細は対応する紹介ページで確認してください。

具体的に設定する値は自分のニーズに応じますが、以下の提案も参考になります。

{% hint style="success" %}
提案：

* 通常の会話：500-800
* 短文生成：800-2000
* コード生成：2000-3600
* 長文生成：4000以上（モデルがサポートしている必要あり）
{% endhint %}

{% hint style="warning" %}
通常、モデルが生成する回答はMaxTokenの範囲内で制限されますが、長文コードを書く際に途中で切り捨てられる場合や表現が不完全になる場合があります。特殊な状況では実際の状況に応じて柔軟に調整が必要です。
{% endhint %}

#### <mark style="color:blue;">**`ストリーミング出力（Stream）`**</mark>

ストリーミング出力は、データを一度にすべて送信するのではなく、連続的なストリーム形式で転送・処理するデータ処理方式です。この方式によりデータは生成後に即座に処理・出力されるため、リアルタイム性と効率が大幅に向上します。

CherryStudioクライアントなどの環境では、簡単に言えばタイピング効果です。

無効時（非ストリーム）：モデルが情報を生成完了後、一度に全て出力（LINEでメッセージを受信するイメージ）

有効時：一字ずつ出力。大規模モデルが一字生成するたびに即座に送信され、全て送信完了するまで続きます。

{% hint style="info" %}
一部の特殊モデルがストリーミング出力をサポートしない場合は、このスイッチをオフにする必要があります（例：**初期段階**で非ストリームのみサポートするo1-miniなど）。
{% endhint %}

#### <mark style="color:blue;">**`カスタムパラメータ`**</mark>

リクエストボディ（body）に追加のリクエストパラメータを含めます（例：`presence_penalty` などのフィールド）。通常のユーザーは必要としません。

> 上記のtop-p、maxtokens、streamなどのパラメータも同様のものです。

設定方法：パラメータ名—パラメータタイプ（テキスト、数値など）—値。参考ドキュメント：[クリックして移動](https://openai.apifox.cn/doc-3222739)

{% hint style="info" %}
各モデル提供元には独自のパラメータが多少あり、提供元のドキュメントで使用方法を確認する必要があります。
{% endhint %}

{% hint style="info" %}
* カスタムパラメータの優先度は組み込みパラメータよりも高いです。つまり、カスタムパラメータと組み込みパラメータが重複する場合、カスタムパラメータが組み込みパラメータを上書きします。

> 例：カスタムパラメータで `model` を `gpt-4o` に設定した後、会話中はどのモデルを選択しても `gpt-4o` モデルが使用されます。

* <kbd>パラメータ名:undefined</kbd> の設定を使用するとパラメータを除外できます。
{% endhint %}